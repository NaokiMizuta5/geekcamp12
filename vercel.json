{
    "builds": [
      {
        "src": "server/wsgi.py",
        "use": "@vercel/python"
      },
      {
        "src": "package.json",
        "use": "@vercel/static-build",
        "config": { "distDir": "dist" }
      }
    ],
    "routes": [
      {
        "src": "/api/(.*)",
        "dest": "server/wsgi.py"
      },
      {
        "src": "/(assets|images|js|css)/(.*)",
        "dest": "/dist/$1/$2"
      },
      {
        "src": "/(.*)",
        "dest": "/dist/index.html"
      }
    ],
    "headers": [
      {
        "source": "/(.*)",
        "headers": [
          {
            "key": "Content-Security-Policy",
            "value": "default-src 'self'; script-src 'self' 'unsafe-eval'; connect-src 'self' https://your-api-domain.com;"
          }
        ]
      }
    ]
  }